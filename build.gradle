plugins {
	id 'org.springframework.boot' version '2.3.3.RELEASE'
	id 'io.spring.dependency-management' version '1.0.10.RELEASE'
	id 'java'
}

apply plugin: 'war'

bootWar {
	archiveBaseName = 'igns'
	archiveFileName = 'igns.war'
	archiveVersion = '0.0.1'
}

javadoc {                                                     
    options.addStringOption("locale","ko_KR");
    options.addStringOption("encoding","UTF-8");
    options.addStringOption("charset","UTF-8");
    options.addStringOption("docencoding","UTF-8");
}

group = 'kr.co.thub'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '1.8'

configurations {
	compileOnly {
		extendsFrom annotationProcessor
	}
	all {
		//스프링부트 기본이 logback이기 때문에 log4j2사용을 위해서는 제외처리해야 함.
		compile.exclude module: 'spring-boot-starter-logging'
	}
}

repositories {
	mavenCentral()	
	//maven { url "https://mvnrepository.com/artifact/com.oracle.ojdbc/ojdbc8"}
}

dependencies {
	// WAR 獄쏄퀬猷�
	providedRuntime('org.springframework.boot:spring-boot-starter-tomcat')
	
	// JPA
	implementation 'org.springframework.boot:spring-boot-starter-data-jpa'
	
    // Spring Security
    implementation 'org.springframework.boot:spring-boot-starter-security'
	implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity5'
	
	// Spring Actuator
	implementation 'org.springframework.boot:spring-boot-starter-actuator'
	
	//resttemplate => //resttemplate  + // WEB	 + // HttpClient
	//implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
	//implementation 'org.springframework.boot:spring-boot-starter-web-services'
	
	// WEB	
	implementation 'org.springframework.boot:spring-boot-starter-web'
	
	// HttpClient
	compile 'org.apache.httpcomponents:httpclient:4.5.13'
	
	// JSON
	compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1'
	
	//slf4j
	compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.25'
	
	// log4j
	compile 'org.springframework.boot:spring-boot-starter-log4j2'   // log4j2
    compile group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-yaml', version: '2.10.3'   // log4j2
	compile group: 'org.bgee.log4jdbc-log4j2', name: 'log4jdbc-log4j2-jdbc4', version: '1.16'
	
	// XML to JSON
	compile group: 'org.json', name: 'json', version: '20180813'
	
	// JSP
	compile('org.apache.tomcat.embed:tomcat-embed-jasper')
	compile('javax.servlet:jstl:1.2')
	
	// Lombok
	compileOnly 'org.projectlombok:lombok'
	annotationProcessor 'org.projectlombok:lombok'
	
	// Mail
	implementation 'org.springframework.boot:spring-boot-starter-mail'
	
	// Swagger
	compile("io.springfox:springfox-swagger2:2.9.2") { 
		exclude module: 'swagger-annotations' 
		exclude module: 'swagger-models' 
	} 
	compile("io.swagger:swagger-annotations:1.5.21") 
	compile("io.swagger:swagger-models:1.5.21")
    implementation 'io.springfox:springfox-swagger-ui:2.9.2'
    
    // i18n (message 占쎈뼄�뤃占쏙옙堉�)
    implementation 'net.rakugakibox.util:yaml-resource-bundle:1.1'
	
	// DevTool
	developmentOnly 'org.springframework.boot:spring-boot-devtools'
	
	// DB & MyBatis
	compile 'org.mybatis.spring.boot:mybatis-spring-boot-starter:2.1.4'
    compile 'org.springframework.boot:spring-boot-starter-jdbc'
    //mysql
    compile 'mysql:mysql-connector-java'
    //오라클    
	compile fileTree(dir: 'libs', includes: ['*.jar'])
	//mssql
	compile 'com.microsoft.sqlserver:mssql-jdbc'
	//postgre
	compile group: 'org.postgresql', name: 'postgresql', version: '42.2.0'
	
	//Security	
	implementation 'org.springframework.boot:spring-boot-starter-security'
	implementation 'org.springframework.security:spring-security-test'
	// https://mvnrepository.com/artifact/org.thymeleaf.extras/thymeleaf-extras-springsecurity5
	compile group: 'org.thymeleaf.extras', name: 'thymeleaf-extras-springsecurity5', version: '3.0.4.RELEASE'
	
	// JWT
	implementation 'io.jsonwebtoken:jjwt:0.9.1'
	
	testImplementation('org.springframework.boot:spring-boot-starter-test') {
		exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
	}
	
	// zip
	implementation group: 'org.apache.commons', name: 'commons-compress', version: '1.20'
	implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.10'
	implementation group: 'net.lingala', name: 'zip4j', version: '1.3.3'
	
	//json
	implementation group: 'net.sf.json-lib', name: 'json-lib-ext-spring', version: '1.0.2'
	
	//excel
	implementation group: 'org.apache.poi', name: 'poi', version: '4.1.2'
	implementation group: 'org.apache.poi', name: 'poi-ooxml', version: '4.1.2'
	implementation group: 'eu.bitwalker', name: 'UserAgentUtils', version: '1.21'
	
	//file
	implementation group: 'org.apache.directory.studio', name: 'org.apache.commons.io', version: '2.4'
	compile group: 'commons-io', name: 'commons-io', version: '2.6' /* Apache Commons IO */
	compile group: 'commons-fileupload', name: 'commons-fileupload', version: '1.3.3' /* Apache Commons File Upload */
	
	//Aes256 
 	implementation group: 'org.bouncycastle', name: 'bcprov-jdk16', version: '1.46'
 	
 	//resttemplate => //resttemplate  + //JCIFS/smb2 + //gson
 	//compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.9.3'
 	//compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'
 	
 	//JCIFS/smb2
 	implementation group: 'jcifs', name: 'jcifs', version: '1.3.17'
 	implementation 'com.hierynomus:smbj:0.10.0'
 	implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.12.2'
 	
 	//gson
 	implementation 'com.google.code.gson:gson:2.8.5'
 	
 	//scheduler
 	compile group: 'joda-time', name: 'joda-time', version: '2.9.7'
 	
 	// influxDB
    implementation group: 'org.influxdb', name: 'influxdb-java', version: '2.21'

	//actuator
	compile("org.springframework.boot:spring-boot-starter-actuator")

	//datatable
	implementation group: 'io.cucumber', name: 'datatable', version: '3.5.0'
	
	//commons-net FTP에 접속하여 파일 다운로드, 업로드
	implementation group: 'commons-net', name: 'commons-net', version: '3.8.0'
	
	//transaction
	compile('org.springframework.data:spring-data-commons')
	
	//redis
	compile "org.springframework.boot:spring-boot-starter-data-redis"
    compile group: 'it.ozimov', name: 'embedded-redis', version: '0.7.2'
    
    //시스템 관리페이지를 위한 스케쥴러
    implementation 'org.springframework.boot:spring-boot-starter-batch'
    
}

test {
	useJUnitPlatform()
}
